{% extends "users/base.html" %} {% load static %} {% block title %}


<title>Home Page</title>
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
  crossorigin="anonymous"
/>
  <link rel="stylesheet" type="text/css" href="{% static '/css/homepage.css' %}">
{% endblock title %} {% block content %}


<nav class="navbar navbar-expand-lg navbar-custom p-3">
  <a class="navbar-brand" href="/"><img class="bg-dark" src="{% static 'images/logo-white.png' %}" style="width:100px;" alt="On1i image"></a>
  <button class="navbar-toggler text-white" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon bg-secondary"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <div class="d-flex flex-column w-100">
    <ul id="navbar-align" class="navbar-nav ml-auto">
      {% if user_name %}
      <li class="nav-item pl-2 text-center">
        <a class="nav-link" href="{% url 'link-view' %}">Link Page</a>
      </li>
      <li class="nav-item pl-2 text-center">
        <a class="nav-link" href="{% url 'logout' %}">Logout</a>
      </li>
      {% endif %}
    </ul>
    </div>
  </div>
</nav>

  {% if messages %}
        <ul class="messages text-center">
            {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}" style="list-style-type: none;"{% endif %}>{{ message }}</li>
            {% endfor %}
        </ul>
  {% endif %}

  <!--this is form for user profile update-->
  <div class="containerr w-75">
    <h1 class="edit-headline text-uppercase fs-2 fw-bolder">Edit Profile</h1>
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="form-group text-center">
        <img src="{{user_image}}" class="rounded-circle" style="width: 200px; height: 200px;" alt="userImage" />
      </div>
      <div class="form-group text-center">
        <input type="file" class="form-control-file btn-upload" name="image" id="id_image" />
      </div>
      <div class="form-group">
        <label for="user_name"><strong>Username</strong></label>
        <input type="text" class="form-control" name="user_name" placeholder="Enter your display name" value="{{user_name}}" />
      </div>
      <div class="form-group">
        <label for="Profile_bio"><strong>Bio</strong></label>
        <textarea class="form-control" name="description" placeholder="Add your bio">{{description}}</textarea>
      </div>
      <div class="form-group">
        <label for="mobile"><strong>Mobile Number</strong></label>
        <input type="text" class="form-control" name="mobile" placeholder="Mobile Number" value="{{mobile}}" />
      </div>
      <div class="form-group">
        <label for="email"><strong>Email address</strong></label>
        <input type="email" class="form-control" name="email" placeholder="Email address" value="{{email}}" />
      </div>
      <div class="form-group text-center">
        <button type="submit" class="btn btn-dark btn-add" name="upload_profile">Update Profile</button>
      </div>
    </form>
  </div>

  <div id="link-form" class="container w-50">
    <form method="post">
      {% csrf_token %}
      <div id="linkContainer">
        <div id="base-form-container"class= "d-flex flex-row gap-4">
          <div class="input-group mb-3 link-group">
            <select class="custom-select m-1 w-100 p-2" name="channel[]">
              <option value="selectlink" selected>Click to add a link...</option>
              <option value="spotify">Spotify</option>
              <option value="playlist">Playlist</option>
              <option value="applemusic">Apple Music</option>
              <option value="youtube">YouTube</option>
              <option value="instagram">Instagram</option>
              <option value="snapchat">Snapchat</option>
              <option value="twitter">Twitter</option>
              <option value="facebook">Facebook</option>
              <option value="linkedin">LinkedIn</option>
              <option value="tiktok">TikTok</option>
              <option value="soundcloud">Soundcloud</option>
              <option value="reddit">Reddit</option>
              <option value="medium">Medium</option>
              <option value="twitch">Twitch</option>
              <option value="website">Website</option>
              <option value="phone">Phone Number</option>
              <option value="email">Email</option>
              <option value="customlink">Custom Link</option>
            </select>
            <input type="text" class="form-control m-1 w-100 p-2" name="link[]" required placeholder="Add user link..." />
          </div>
          <div class="form-group text-center">
            <button type="button" class="btn btn-secondary btn-sm mb-3" id="addLinkBtn">+</button>
          </div>
        </div>
      </div>
      <div class="form-group text-center">
        <button type="submit" class="btn btn-dark btn-add" name="add_link">Submit</button>
      </div>
    </form>
  </div>

  <!-- Footer -->
<footer class="text-center bg-dark text-white mt-2 d-flex flex-column">
  <div class="container">
    <div class="social-profiles mb-2 mt-2">
      <a class="facebook" href="https://www.facebook.com/on1iapp">
        <img src="https://img.icons8.com/fluency/36/000000/facebook-new.png" />
      </a>
      <a class="twitter" href="#">
        <img src="https://img.icons8.com/fluency/36/000000/twitterx.png" />
      </a>
      <a class="instagram" href=" https://www.instagram.com/on1iapp/">
        <img
          src="https://img.icons8.com/color/36/000000/instagram-new--v1.png"
        />
      </a>
    </div>
    <p style="height:10px;">
      &copy;
      <script>
        document.write(new Date().getFullYear());
      </script>
      On1i
    </p>
  </div>
</footer>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <!-- this form is used to take the channel and profile link of the user-->

<script>
    document.getElementById('addLinkBtn').addEventListener('click', function() {
      const linkContainer = document.getElementById('linkContainer');
      const newLinkGroup = document.createElement('div');
      newLinkGroup.className = 'input-group mb-3 link-group';
      newLinkGroup.innerHTML = `
        <select class="custom-select m-1 w-100 p-2" name="channel[]">
          <option value="selectlink" selected>Click to add a link...</option>
          <option value="spotify">Spotify</option>
          <option value="playlist">Playlist</option>
          <option value="applemusic">Apple Music</option>
          <option value="youtube">YouTube</option>
          <option value="instagram">Instagram</option>
          <option value="snapchat">Snapchat</option>
          <option value="twitter">Twitter</option>
          <option value="facebook">Facebook</option>
          <option value="linkedin">LinkedIn</option>
          <option value="tiktok">TikTok</option>
          <option value="soundcloud">Soundcloud</option>
          <option value="reddit">Reddit</option>
          <option value="medium">Medium</option>
          <option value="twitch">Twitch</option>
          <option value="website">Website</option>
          <option value="phone">Phone Number</option>
          <option value="email">Email</option>
          <option value="customlink">Custom Link</option>
        </select>
        <input type="text" class="form-control m-1 w-100 p-2" name="link[]" required placeholder="Add user link..." />
      `;
      linkContainer.appendChild(newLinkGroup);
    });
  </script>  
  
{% endblock content %}
